- name: sql
  type: group
  release: experimental
  fields:
    - name: driver
      type: keyword
      description: Driver used to execute the query.
    - name: query
      type: keyword
      description: Query executed to collect metrics.
    - name: metrics.database_id
      type: long
      description: Unique ID of the database inside MSSQL.
    - name: metrics.database_name
      type: keyword
      description: Name of the database.
    - name: metrics.page_splits_sec
      type: long
      description: Number of page splits per second that occur as the result of overflowing index pages.
    - name: metrics.lock_waits_sec
      type: long
      description: Number of lock requests per second that required the caller to wait.
    - name: metrics.user_connections
      type: long
      description: Total number of user connections.
    - name: metrics.active_temp_tables
      type: long
      description: Number of temporary tables/table variables in use.
    - name: metrics.transactions
      type: long
      description: Total number of transactions
    - name: metrics.connection_reset_sec
      type: long
      description: Total number of logins started from the connection pool.
    - name: metrics.logins_sec
      type: long
      description: Total number of logins started per second. This does not include pooled connections.
    - name: metrics.logouts_sec
      type: long
      description: Total number of logout operations started per second.
    - name: metrics.sql_re_compilations_sec
      type: long
      description: Number of statement recompiles per second. Counts the number of times statement recompiles are triggered. Generally, you want the recompiles to be low.
    - name: metrics.sql_compilations_sec
      type: long
      description: Number of SQL compilations per second. Indicates the number of times the compile code path is entered. Includes compiles caused by statement-level recompilations in SQL Server. After SQL Server user activity is stable, this value reaches a steady state.
    - name: metrics.batch_requests_sec
      type: long
      description: Number of Transact-SQL command batches received per second. This statistic is affected by all constraints (such as I/O, number of users, cache size, complexity of requests, and so on). High batch requests mean good throughput.
    - name: metrics.buffer_cache_hit_ratio
      type: double
      description: The ratio is the total number of cache hits divided by the total number of cache lookups over the last few thousand page accesses. After a long period of time, the ratio moves very little. Because reading from the cache is much less expensive than reading from disk, you want this ratio to be high.
    - name: metrics.page_life_expectancy
      type: long
      description: Indicates the number of seconds a page will stay in the buffer pool without references (in seconds).
    - name: metrics.checkpoint_pages_sec
      type: long
      description: Indicates the number of pages flushed to disk per second by a checkpoint or other operation that require all dirty pages to be flushed.
    - name: metrics.database_pages
      type: long
      description: Indicates the number of pages in the buffer pool with database content.
    - name: metrics.target_pages
      type: long
      description: Ideal number of pages in the buffer pool.
